# src/zf_bhv_suite/core.pyimport pandas as pdimport osimport globimport sysfrom typing import Optionaldef avgDayNight(input_dir: str, output_dir: Optional[str] = None) -> None:    """    Calculates the average of 'day' and 'night' columns for each CSV file     in a directory and saves the updated files.    ... [rest of the function code as previously provided]    """        # Set output_dir to input_dir if not specified    if output_dir is None:        output_dir = input_dir            # Check if input_dir exists    if not os.path.isdir(input_dir):        sys.exit(f"Error: The input directory '{input_dir}' does not exist.")            # Check if output_dir exists and create it if it doesn't    if not os.path.exists(output_dir):        print(f"Creating output directory: {output_dir}")        os.makedirs(output_dir)        search_path = os.path.join(input_dir, "*.csv")    csv_files = glob.glob(search_path)        if not csv_files:        print(f"Warning: No CSV files found in the input directory '{input_dir}'.")        return    print(f"Processing {len(csv_files)} files...")        for file_path in csv_files:        file_name = os.path.basename(file_path)        print(f"  - Processing {file_name}")                try:            df = pd.read_csv(file_path)                        # Dynamic column identification            day_cols = [col for col in df.columns if 'day' in col.lower() and col.lower() != 'day']            night_cols = [col for col in df.columns if 'night' in col.lower()]                        if not day_cols and not night_cols:                print(f"    Skipping {file_name}: No 'day' or 'night' columns found for averaging.")                continue            # Calculate means            if day_cols:                df['avgDay'] = df[day_cols].mean(axis=1)                        if night_cols:                df['avgNight'] = df[night_cols].mean(axis=1)                        output_file_path = os.path.join(output_dir, file_name)            df.to_csv(output_file_path, index=False)                    except Exception as e:            print(f"    An error occurred while processing {file_name}: {e}")            continue    print("\nProcessing complete.")